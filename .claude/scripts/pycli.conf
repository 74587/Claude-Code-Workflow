#==============================================================================
# pycli Configuration File
#
# This file contains configuration settings for the pycli bash wrapper.
# Modify these settings according to your environment.
#==============================================================================

#------------------------------------------------------------------------------
# Python Environment Configuration
#------------------------------------------------------------------------------

# Path to Python interpreter
# Examples:
#   - System Python: /usr/bin/python3
#   - Conda: /opt/conda/bin/python
#   - Virtual env: /home/user/.virtualenvs/myenv/bin/python
#   - Windows: /c/Python39/python.exe
PYTHON_PATH="/usr/bin/python3"

# Alternative Python paths for different environments
# Uncomment and modify as needed:
# PYTHON_PATH="/opt/conda/bin/python"              # Conda
# PYTHON_PATH="$HOME/.pyenv/versions/3.11.0/bin/python"  # pyenv
# PYTHON_PATH="/c/Python311/python.exe"           # Windows

#------------------------------------------------------------------------------
# Directory Configuration
#------------------------------------------------------------------------------

# Python script location (should point to ~/.claude/python_script)
PYTHON_SCRIPT_DIR="$HOME/.claude/python_script"

# Central vector database storage location
VECTOR_DB_ROOT="$HOME/.claude/vector_db"

# Cache directory for temporary files
CACHE_DIR="$HOME/.claude/cache"

#------------------------------------------------------------------------------
# Default Tool Settings
#------------------------------------------------------------------------------

# Default tool to use when not specified
# Options: gemini, codex, both
DEFAULT_TOOL="gemini"

# Default number of similar files to return in vector search
DEFAULT_TOP_K="10"

# Default similarity threshold for vector search (0.0-1.0)
SIMILARITY_THRESHOLD="0.3"

# Default timeout for tool execution (seconds)
TOOL_TIMEOUT="300"

#------------------------------------------------------------------------------
# Vector Database Configuration
#------------------------------------------------------------------------------

# Enable hierarchical vector database mode
# When true, subdirectories will use parent directory's vector database
HIERARCHICAL_MODE="true"

# Maximum depth to search for parent vector databases
MAX_SEARCH_DEPTH="10"

# Minimum files required to create a separate vector database
MIN_FILES_FOR_SEPARATE_DB="50"

#------------------------------------------------------------------------------
# Performance Settings
#------------------------------------------------------------------------------

# Enable verbose output for debugging
# Set to "1" to enable, "0" to disable
PYCLI_VERBOSE="0"

# Enable caching of analysis results
ENABLE_CACHING="true"

# Cache TTL in seconds (1 hour default)
CACHE_TTL="3600"

#------------------------------------------------------------------------------
# Integration Settings
#------------------------------------------------------------------------------

# Gemini wrapper compatibility mode
# Set to "true" to enable compatibility with existing gemini-wrapper scripts
GEMINI_COMPAT_MODE="true"

# Codex integration settings
CODEX_COMPAT_MODE="true"

# Auto-build index if not found
AUTO_BUILD_INDEX="true"

# Auto-update embeddings when files change
AUTO_UPDATE_EMBEDDINGS="true"

#------------------------------------------------------------------------------
# Logging Configuration
#------------------------------------------------------------------------------

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL="INFO"

# Log file location
LOG_FILE="$HOME/.claude/logs/pycli.log"

# Enable log rotation
ENABLE_LOG_ROTATION="true"

# Maximum log file size (MB)
MAX_LOG_SIZE="10"

#------------------------------------------------------------------------------
# Advanced Configuration
#------------------------------------------------------------------------------

# Custom configuration file for Python scripts
# Leave empty to use default config.yaml
PYTHON_CONFIG_FILE=""

# Additional Python path directories
# Uncomment and modify if you need to add custom modules
# ADDITIONAL_PYTHON_PATH="/path/to/custom/modules"

# Environment variables to pass to Python scripts
# Uncomment and modify as needed
# CUSTOM_ENV_VAR1="value1"
# CUSTOM_ENV_VAR2="value2"

#------------------------------------------------------------------------------
# Platform-Specific Settings
#------------------------------------------------------------------------------

# Windows-specific settings
if [[ "$OSTYPE" == "msys" ]] || [[ "$OSTYPE" == "cygwin" ]]; then
    # Adjust paths for Windows
    VECTOR_DB_ROOT="${VECTOR_DB_ROOT//\\//}"
    PYTHON_SCRIPT_DIR="${PYTHON_SCRIPT_DIR//\\//}"
fi

# macOS-specific settings
if [[ "$OSTYPE" == "darwin"* ]]; then
    # macOS-specific optimizations
    export OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES
fi

#------------------------------------------------------------------------------
# User Customization
#------------------------------------------------------------------------------

# Load user-specific configuration if it exists
USER_CONFIG="$HOME/.claude/config/pycli.user.conf"
if [[ -f "$USER_CONFIG" ]]; then
    source "$USER_CONFIG"
fi