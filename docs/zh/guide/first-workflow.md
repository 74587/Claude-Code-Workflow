# ç¬¬ä¸€ä¸ªå·¥ä½œæµï¼šæ„å»ºç®€å• API

åœ¨ 30 åˆ†é’Ÿå†…å®Œæˆä½ çš„ç¬¬ä¸€ä¸ª CCW å·¥ä½œæµã€‚æˆ‘ä»¬å°†ä»è§„èŒƒåˆ°å®ç°æ„å»ºä¸€ä¸ªç®€å•çš„ REST APIã€‚

## æˆ‘ä»¬è¦æ„å»ºä»€ä¹ˆ

ä¸€ä¸ªç®€å•çš„ç”¨æˆ· APIï¼ŒåŒ…å«ï¼š
- GET /users - è·å–æ‰€æœ‰ç”¨æˆ·
- GET /users/:id - æ ¹æ® ID è·å–ç”¨æˆ·
- POST /users - åˆ›å»ºæ–°ç”¨æˆ·
- PUT /users/:id - æ›´æ–°ç”¨æˆ·
- DELETE /users/:id - åˆ é™¤ç”¨æˆ·

## å‰ææ¡ä»¶

- å·²å®‰è£… CCWï¼ˆ[å®‰è£…æŒ‡å—](./installation.md)ï¼‰
- Node.js >= 18.0.0
- ä»£ç ç¼–è¾‘å™¨ï¼ˆæ¨è VS Codeï¼‰

## æ­¥éª¤ 1ï¼šåˆ›å»ºé¡¹ç›®ï¼ˆ5 åˆ†é’Ÿï¼‰

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir user-api
cd user-api

# åˆå§‹åŒ– npm é¡¹ç›®
npm init -y

# å®‰è£…ä¾èµ–
npm install express
npm install --save-dev typescript @types/node @types/express
```

## æ­¥éª¤ 2ï¼šç”Ÿæˆè§„èŒƒï¼ˆ5 åˆ†é’Ÿï¼‰

```bash
# ä½¿ç”¨ CCW ç”Ÿæˆ API è§„èŒƒ
ccw cli -p "ä¸ºç”¨æˆ·èµ„æºçš„ CRUD æ“ä½œç”Ÿæˆ REST API è§„èŒƒ" --mode analysis
```

CCW å°†åˆ†æä½ çš„è¯·æ±‚å¹¶ç”Ÿæˆè§„èŒƒæ–‡æ¡£ã€‚

## æ­¥éª¤ 3ï¼šå®ç° APIï¼ˆ15 åˆ†é’Ÿï¼‰

```bash
# å®ç° API
ccw cli -p "ä½¿ç”¨ Express å’Œ TypeScript æŒ‰ç…§è§„èŒƒå®ç°ç”¨æˆ· API" --mode write
```

CCW å°†ï¼š
1. åˆ›å»ºé¡¹ç›®ç»“æ„
2. å®ç°è·¯ç”±
3. æ·»åŠ ç±»å‹å®šä¹‰
4. åŒ…å«é”™è¯¯å¤„ç†

## æ­¥éª¤ 4ï¼šå®¡æŸ¥ä»£ç ï¼ˆ5 åˆ†é’Ÿï¼‰

```bash
# å®¡æŸ¥å®ç°
ccw cli -p "å®¡æŸ¥ç”¨æˆ· API ä»£ç çš„è´¨é‡ã€å®‰å…¨æ€§å’Œæœ€ä½³å®è·µ" --mode analysis
```

## æ­¥éª¤ 5ï¼šæµ‹è¯•å’Œè¿è¡Œ

```bash
# ç¼–è¯‘ TypeScript
npx tsc

# è¿è¡ŒæœåŠ¡å™¨
node dist/index.js

# æµ‹è¯• API
curl http://localhost:3000/users
```

## é¢„æœŸç»“æœ

ä½ åº”è¯¥æ‹¥æœ‰ï¼š
- `src/index.ts` - ä¸»æœåŠ¡å™¨æ–‡ä»¶
- `src/routes/users.ts` - ç”¨æˆ·è·¯ç”±
- `src/types/user.ts` - ç”¨æˆ·ç±»å‹
- `src/middleware/error.ts` - é”™è¯¯å¤„ç†

## ä¸‹ä¸€æ­¥

- [CLI å‚è€ƒ](../cli/commands.md) - å­¦ä¹ æ‰€æœ‰ CLI å‘½ä»¤
- [æŠ€èƒ½åº“](../skills/core-skills.md) - æ¢ç´¢å†…ç½®æŠ€èƒ½
- [å·¥ä½œæµç³»ç»Ÿ](../workflows/4-level.md) - ç†è§£å·¥ä½œæµç¼–æ’

::: tip æ­å–œï¼ğŸ‰
ä½ å·²ç»å®Œæˆäº†ç¬¬ä¸€ä¸ª CCW å·¥ä½œæµã€‚ç°åœ¨ä½ å¯ä»¥å°† CCW ç”¨äºæ›´å¤æ‚çš„é¡¹ç›®ã€‚
:::
