"use strict";(globalThis.webpackChunkccw_docs=globalThis.webpackChunkccw_docs||[]).push([[412],{1184(e,n,s){s.d(n,{R:()=>l,x:()=>t});var i=s(4041);const r={},u=i.createContext(r);function l(e){const n=i.useContext(u);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(u.Provider,{value:n},e.children)}},6945(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"commands/issue/issue-queue","title":"issue:queue","description":"Form execution queue from bound solutions with conflict resolution","source":"@site/docs/commands/issue/issue-queue.md","sourceDirName":"commands/issue","slug":"/commands/issue/issue-queue","permalink":"/docs/docs/commands/issue/issue-queue","draft":false,"unlisted":false,"editUrl":"https://github.com/ccw/docs/tree/main/docs/commands/issue/issue-queue.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"issue:queue","sidebar_label":"issue:queue","sidebar_position":4,"description":"Form execution queue from bound solutions with conflict resolution"},"sidebar":"docs","previous":{"title":"issue:plan","permalink":"/docs/docs/commands/issue/issue-plan"},"next":{"title":"issue:execute","permalink":"/docs/docs/commands/issue/issue-execute"}}');var r=s(1085),u=s(1184);const l={title:"issue:queue",sidebar_label:"issue:queue",sidebar_position:4,description:"Form execution queue from bound solutions with conflict resolution"},t="issue",c={},o=[{value:"Description",id:"description",level:2},{value:"Key Features",id:"key-features",level:3},{value:"Usage",id:"usage",level:2},{value:"Arguments",id:"arguments",level:3},{value:"CLI Subcommands",id:"cli-subcommands",level:3},{value:"Examples",id:"examples",level:2},{value:"Create Single Queue",id:"create-single-queue",level:3},{value:"Create Multiple Parallel Queues",id:"create-multiple-parallel-queues",level:3},{value:"Append to Existing Queue",id:"append-to-existing-queue",level:3},{value:"Issue Lifecycle Flow",id:"issue-lifecycle-flow",level:2},{value:"Execution Groups",id:"execution-groups",level:2},{value:"Parallel Groups (P*)",id:"parallel-groups-p",level:3},{value:"Sequential Groups (S*)",id:"sequential-groups-s",level:3},{value:"Mixed Execution",id:"mixed-execution",level:3},{value:"Conflict Types",id:"conflict-types",level:2},{value:"1. File Conflicts",id:"1-file-conflicts",level:3},{value:"2. API Conflicts",id:"2-api-conflicts",level:3},{value:"3. Data Conflicts",id:"3-data-conflicts",level:3},{value:"4. Dependency Conflicts",id:"4-dependency-conflicts",level:3},{value:"5. Architecture Conflicts",id:"5-architecture-conflicts",level:3},{value:"Queue Structure",id:"queue-structure",level:2},{value:"Directory Layout",id:"directory-layout",level:3},{value:"Index Schema",id:"index-schema",level:3},{value:"Queue File Schema",id:"queue-file-schema",level:3},{value:"Clarification Flow",id:"clarification-flow",level:2},{value:"Related Commands",id:"related-commands",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"CLI Endpoints",id:"cli-endpoints",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,u.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsxs)(n.h1,{id:"issue",children:["issue",":queue"]})}),"\n",(0,r.jsx)(n.p,{children:"Queue formation command using issue-queue-agent that analyzes bound solutions, resolves inter-solution conflicts, and creates an ordered execution queue."}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"issue:queue"})," command creates execution queues from planned issues with bound solutions. It performs solution-level conflict analysis, builds dependency DAGs, calculates semantic priority, and assigns execution groups (parallel/sequential)."]}),"\n",(0,r.jsx)(n.h3,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solution-level granularity"}),": Queue items are complete solutions, not individual tasks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Conflict resolution"}),": Automatic detection and user clarification for high-severity conflicts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-queue support"}),": Create parallel queues for distributed execution"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Semantic priority"}),": Intelligent ordering based on issue priority and task complexity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DAG-based grouping"}),": Parallel (P*) and Sequential (S*) execution groups"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Queue history"}),": Track all queues with active queue management"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Form new queue from all bound solutions\r\n/issue:queue\r\n\r\n# Form 3 parallel queues (solutions distributed)\r\n/issue:queue --queues 3\r\n\r\n# Form queue for specific issue only\r\n/issue:queue --issue GH-123\r\n\r\n# Append to active queue\r\n/issue:queue --append GH-124\r\n\r\n# List all queues\r\n/issue:queue --list\r\n\r\n# Switch active queue\r\n/issue:queue --switch QUE-xxx\r\n\r\n# Archive completed queue\r\n/issue:queue --archive\n"})}),"\n",(0,r.jsx)(n.h3,{id:"arguments",children:"Arguments"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--queues <n>"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Number of parallel queues (default: 1)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--issue <id>"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Form queue for specific issue only"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--append <id>"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Append issue to active queue"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--force"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Skip active queue check, always create new"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-y, --yes"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Auto-confirm, use recommended resolutions"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"cli-subcommands",children:"CLI Subcommands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ccw issue queue list                  # List all queues with status\r\nccw issue queue add <issue-id>        # Add issue to queue\r\nccw issue queue add <issue-id> -f     # Force add to new queue\r\nccw issue queue merge <src> --queue <target>  # Merge queues\r\nccw issue queue switch <queue-id>     # Switch active queue\r\nccw issue queue archive               # Archive current queue\r\nccw issue queue delete <queue-id>     # Delete queue from history\n"})}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"create-single-queue",children:"Create Single Queue"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"/issue:queue\r\n# Output:\r\n# Loading 5 bound solutions...\r\n# Generating queue: QUE-20251227-143000\r\n# Analyzing conflicts...\r\n# \u2713 Queue created: 5 solutions, 3 execution groups\r\n#   - P1: S-1, S-2 (parallel)\r\n#   - S1: S-3 (sequential)\r\n#   - P2: S-4, S-5 (parallel)\r\n# Next: /issue:execute --queue QUE-20251227-143000\n"})}),"\n",(0,r.jsx)(n.h3,{id:"create-multiple-parallel-queues",children:"Create Multiple Parallel Queues"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"/issue:queue --queues 3\r\n# Distributes solutions to minimize cross-queue conflicts\r\n# Creates: QUE-20251227-143000-1, QUE-20251227-143000-2, QUE-20251227-143000-3\r\n# All linked via queue_group: QGR-20251227-143000\n"})}),"\n",(0,r.jsx)(n.h3,{id:"append-to-existing-queue",children:"Append to Existing Queue"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"/issue:queue --append GH-124\r\n# Checks active queue exists\r\n# Adds new solution to end of active queue\r\n# Recalculates execution groups\n"})}),"\n",(0,r.jsx)(n.h2,{id:"issue-lifecycle-flow",children:"Issue Lifecycle Flow"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph TB\r\n    A[Planned Issues + Bound Solutions] --\x3e B[Load Solutions]\r\n    B --\x3e C{Multi-Queue?}\r\n    C --\x3e|Yes| D[Partition Solutions]\r\n    C --\x3e|No| E[Single Queue]\r\n    D --\x3e F[Launch N Agents Parallel]\r\n    E --\x3e G[Launch Agent]\r\n    F --\x3e H[Conflict Analysis]\r\n    G --\x3e H\r\n    H --\x3e I{High-Severity\r\nConflicts?}\r\n    I --\x3e|Yes| J[User Clarification]\r\n    I --\x3e|No| K[Build DAG]\r\n    J --\x3e K\r\n    K --\x3e L[Calculate Priority]\r\n    L --\x3e M[Assign Groups]\r\n    M --\x3e N[Write Queue + Index]\r\n    N --\x3e O{Active Queue\r\nExists?}\r\n    O --\x3e|No| P[Activate New Queue]\r\n    O --\x3e|Yes| Q[User Decision]\r\n    Q --\x3e R1[Merge]\r\n    Q --\x3e R2[Switch]\r\n    Q --\x3e R3[Cancel]\r\n    R1 --\x3e S[Queue Ready]\r\n    R2 --\x3e S\r\n    P --\x3e S"}),"\n",(0,r.jsx)(n.h2,{id:"execution-groups",children:"Execution Groups"}),"\n",(0,r.jsx)(n.h3,{id:"parallel-groups-p",children:"Parallel Groups (P*)"}),"\n",(0,r.jsx)(n.p,{children:"Solutions with NO file conflicts can execute simultaneously:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"P1: S-1, S-2, S-3  \u2192 3 executors work in parallel\n"})}),"\n",(0,r.jsx)(n.h3,{id:"sequential-groups-s",children:"Sequential Groups (S*)"}),"\n",(0,r.jsx)(n.p,{children:"Solutions with shared dependencies must execute in order:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"S1: S-4 \u2192 S-5 \u2192 S-6  \u2192 Execute one after another\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mixed-execution",children:"Mixed Execution"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"P1: S-1, S-2 (parallel)\r\n  \u2193\r\nS1: S-3 (sequential, waits for P1)\r\n  \u2193\r\nP2: S-4, S-5 (parallel, waits for S1)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"conflict-types",children:"Conflict Types"}),"\n",(0,r.jsx)(n.h3,{id:"1-file-conflicts",children:"1. File Conflicts"}),"\n",(0,r.jsx)(n.p,{children:"Solutions modify the same file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "conflict_id": "CFT-1",\r\n  "type": "file",\r\n  "severity": "high",\r\n  "solutions": ["S-1", "S-2"],\r\n  "files": ["src/auth/login.ts"],\r\n  "resolution": "sequential"\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Resolution"}),": S-1 before S-2 in sequential group"]}),"\n",(0,r.jsx)(n.h3,{id:"2-api-conflicts",children:"2. API Conflicts"}),"\n",(0,r.jsx)(n.p,{children:"Solutions change shared interfaces:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "conflict_id": "CFT-2",\r\n  "type": "api",\r\n  "severity": "high",\r\n  "solutions": ["S-3", "S-4"],\r\n  "interfaces": ["AuthService.login()"],\r\n  "resolution": "sequential"\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Resolution"}),": User clarifies which approach to use"]}),"\n",(0,r.jsx)(n.h3,{id:"3-data-conflicts",children:"3. Data Conflicts"}),"\n",(0,r.jsx)(n.p,{children:"Solutions modify same database schema:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "conflict_id": "CFT-3",\r\n  "type": "data",\r\n  "severity": "medium",\r\n  "solutions": ["S-5", "S-6"],\r\n  "tables": ["users"],\r\n  "resolution": "sequential"\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Resolution"}),": S-5 before S-6"]}),"\n",(0,r.jsx)(n.h3,{id:"4-dependency-conflicts",children:"4. Dependency Conflicts"}),"\n",(0,r.jsx)(n.p,{children:"Solutions require incompatible versions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "conflict_id": "CFT-4",\r\n  "type": "dependency",\r\n  "severity": "high",\r\n  "solutions": ["S-7", "S-8"],\r\n  "packages": ["redis@4.x vs 5.x"],\r\n  "resolution": "clarification"\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Resolution"}),": User selects version or defers one solution"]}),"\n",(0,r.jsx)(n.h3,{id:"5-architecture-conflicts",children:"5. Architecture Conflicts"}),"\n",(0,r.jsx)(n.p,{children:"Solutions have opposing architectural approaches:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "conflict_id": "CFT-5",\r\n  "type": "architecture",\r\n  "severity": "medium",\r\n  "solutions": ["S-9", "S-10"],\r\n  "approaches": ["monolithic", "microservice"],\r\n  "resolution": "clarification"\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Resolution"}),": User selects approach or separates concerns"]}),"\n",(0,r.jsx)(n.h2,{id:"queue-structure",children:"Queue Structure"}),"\n",(0,r.jsx)(n.h3,{id:"directory-layout",children:"Directory Layout"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:".workflow/issues/queues/\r\n\u251c\u2500\u2500 index.json                    # Queue index (active + history)\r\n\u251c\u2500\u2500 QUE-20251227-143000.json      # Individual queue file\r\n\u251c\u2500\u2500 QUE-20251227-143000-1.json    # Multi-queue partition 1\r\n\u251c\u2500\u2500 QUE-20251227-143000-2.json    # Multi-queue partition 2\r\n\u2514\u2500\u2500 QUE-20251227-143000-3.json    # Multi-queue partition 3\n"})}),"\n",(0,r.jsx)(n.h3,{id:"index-schema",children:"Index Schema"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface QueueIndex {\r\n  active_queue_id: string | null;\r\n  active_queue_group: string | null;\r\n  queues: QueueEntry[];\r\n}\r\n\r\ninterface QueueEntry {\r\n  id: string;\r\n  queue_group?: string;          // Links multi-queue partitions\r\n  queue_index?: number;           // Position in group (1-based)\r\n  total_queues?: number;          // Total queues in group\r\n  status: 'active' | 'archived' | 'deleted';\r\n  issue_ids: string[];\r\n  total_solutions: number;\r\n  completed_solutions: number;\r\n  created_at: string;\r\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"queue-file-schema",children:"Queue File Schema"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface Queue {\r\n  queue_id: string;\r\n  queue_group?: string;\r\n  solutions: QueueSolution[];\r\n  execution_groups: ExecutionGroup[];\r\n  conflicts: Conflict[];\r\n  priority_order: string[];\r\n  created_at: string;\r\n}\r\n\r\ninterface QueueSolution {\r\n  item_id: string;                // S-1, S-2, S-3...\r\n  issue_id: string;\r\n  solution_id: string;\r\n  status: 'pending' | 'in_progress' | 'completed' | 'failed';\r\n  task_count: number;\r\n  files_touched: string[];\r\n  priority_score: number;\r\n}\r\n\r\ninterface ExecutionGroup {\r\n  id: string;                     // P1, S1, P2...\r\n  type: 'parallel' | 'sequential';\r\n  items: string[];                // S-1, S-2...\r\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"clarification-flow",children:"Clarification Flow"}),"\n",(0,r.jsx)(n.p,{children:"When high-severity conflicts exist without clear resolution:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Interactive prompt\r\n[CFT-5] File conflict: src/auth/login.ts modified by both S-1 and S-2\r\n  Options:\r\n  [1] Sequential: Execute S-1 first, then S-2\r\n  [2] Sequential: Execute S-2 first, then S-1\r\n  [3] Merge: Combine changes into single solution\r\n  [4] Defer: Remove one solution from queue\r\n\r\nUser selects: [1]\r\n\r\n# Agent resumes with resolution\r\n# Updates queue with sequential ordering: S1: [S-1, S-2]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsxs)(n.a,{href:"/docs/docs/commands/issue/issue-plan",children:["issue",":plan"]})})," - Plan solutions before queuing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsxs)(n.a,{href:"/docs/docs/commands/issue/issue-execute",children:["issue",":execute"]})})," - Execute queued solutions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsxs)(n.a,{href:"/docs/docs/commands/issue/issue-new",children:["issue",":new"]})})," - Create issues to plan and queue"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ccw issue queue dag"})," - View dependency graph"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ccw issue next"})," - Get next item from queue"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Plan before queue"}),": Ensure all issues have bound solutions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Review conflicts"}),": Check conflict report before execution"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use parallel queues"}),": For large projects, distribute work"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Archive completed"}),": Keep queue history for reference"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check unplanned"}),": Review planned but unqueued issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validate DAG"}),": Ensure no circular dependencies"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"cli-endpoints",children:"CLI Endpoints"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List planned issues with bound solutions\r\nccw issue solutions --status planned --brief\r\n\r\n# Create/update queue\r\nccw issue queue form\r\n\r\n# Sync issue statuses from queue\r\nccw issue update --from-queue [queue-id]\r\n\r\n# View queue DAG\r\nccw issue queue dag --queue <queue-id>\r\n\r\n# Get next item\r\nccw issue next --queue <queue-id>\n"})})]})}function a(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);