---
title: 层级 1: 超轻量工作流
description: 急速执行工作流 - 零开销直接执行
sidebar_position: 2
---

import Mermaid from '@theme/Mermaid';

# Level 1: 超轻量工作流

**复杂度**: 低 | **产物**: 无 | **状态**: 无状态 | **迭代**: 通过 AskUser 交互

最简单的工作流，用于立即处理简单任务 - 最小开销，直接执行。

## 概述

Level 1 工作流专为快速、直接的任务设计，不需要规划、文档或持久化状态。它们从输入直接执行到完成。

<Mermaid
  chart={`
    flowchart LR
        Input([User Input]) --> Clarify[Clarification<br/>Optional]
        Clarify --> Select{Auto-select<br/>CLI}
        Select --> Analysis[Parallel Analysis<br/>Multi-tool exploration]
        Analysis --> Results[Show Results]
        Results --> Execute[Direct Execute]
        Execute --> Done([Complete])

        classDef startend fill:#c8e6c9,stroke:#388e3c
        classDef action fill:#e3f2fd,stroke:#1976d2
        classDef decision fill:#fff9c4,stroke:#f57c00

        class Input,Done startend,Clarify,Select,Analysis,Results,Execute action,Select decision
  `}
/>

## 包含的工作流: lite-lite-lite

### 命令

```bash
/workflow:lite-lite-lite
# 或者 CCW 为简单任务自动选择
```

### 流程图

<Mermaid
  chart={`
    flowchart TD
        A([User Input]) --> B{Clarification<br/>Needed?}
        B -->|Yes| C[AskUserQuestion<br/>Goal/Scope/Constraints]
        B -->|No| D[Task Analysis]
        C --> D

        D --> E{CLI Selection}
        E --> F[Gemini<br/>Analysis]
        E --> G[Codex<br/>Implementation]
        E --> H[Claude<br/>Reasoning]

        F --> I[Aggregate Results]
        G --> I
        H --> I

        I --> J{Direct<br/>Execute?}
        J -->|Yes| K[Execute Directly]
        J -->|Iterate| L[Refine via AskUser]
        L --> K

        K --> M([Complete])

        classDef startend fill:#c8e6c9,stroke:#388e3c
        classDef action fill:#e3f2fd,stroke:#1976d2
        classDef decision fill:#fff9c4,stroke:#f57c00

        class A,M startend,B,E,J decision,C,D,F,G,H,I,K action
  `}
/>

### 特性

| 属性 | 值 |
|----------|-------|
| **复杂度** | 低 |
| **产物** | 无（无中间文件） |
| **状态** | 无状态 |
| **CLI 选择** | 自动分析任务类型 |
| **迭代** | 通过 AskUser 交互 |

### 流程阶段

1. **输入分析**
   - 解析用户输入的任务意图
   - 检测复杂度级别
   - 识别所需的 CLI 工具

2. **可选澄清**（如果 clarity_score < 2）
   - 目标: 创建/修复/优化/分析
   - 范围: 单文件/模块/跨模块
   - 约束: 向后兼容/跳过测试/紧急热修复

3. **CLI 自动选择**
   - 任务类型 -> CLI 工具映射
   - 跨多个工具并行分析
   - 聚合结果展示

4. **直接执行**
   - 立即执行更改
   - 无中间产物
   - 可通过 AskUser 进行迭代

### CLI 选择逻辑

```javascript
function selectCLI(task) {
  const patterns = {
    'gemini': /analyze|review|understand|explore/,
    'codex': /implement|generate|create|write code/,
    'claude': /debug|fix|optimize|refactor/,
    'qwen': /consult|discuss|compare/
  };

  for (const [cli, pattern] of Object.entries(patterns)) {
    if (pattern.test(task)) return cli;
  }
  return 'gemini'; // 默认
}
```

## 使用场景

### 适用场景

- 快速修复（简单拼写错误、小幅调整）
- 简单功能添加（单个函数、小型工具）
- 配置调整（环境变量、配置文件）
- 小范围重命名（变量名、函数名）
- 文档更新（readme、注释）

### 不适用场景

- 多模块更改（使用 Level 2+）
- 需要持久化记录（使用 Level 3+）
- 复杂重构（使用 Level 3-4）
- 测试驱动开发（使用 Level 3 TDD）
- 架构设计（使用 Level 4-5）

## 示例

### 示例 1: 快速修复

```bash
/workflow:lite-lite-lite "Fix typo in function name: getUserData"
```

**流程**:
1. 检测: 简单拼写错误修复
2. 选择: Codex 用于重构
3. 执行: 跨文件直接重命名
4. 完成: 不生成产物

### 示例 2: 简单功能

```bash
/workflow:lite-lite-lite "Add logging to user login function"
```

**流程**:
1. 检测: 单模块功能
2. 选择: Claude 用于实现
3. 澄清: 日志级别？输出目标？
4. 执行: 添加日志语句
5. 完成: 工作代码

### 示例 3: 配置调整

```bash
/workflow:lite-lite-lite "Update API timeout to 30 seconds"
```

**流程**:
1. 检测: 配置更改
2. 选择: Gemini 用于分析
3. 分析: 查找所有超时配置
4. 执行: 更新值
5. 完成: 配置已更新

## 优缺点

### 优点

| 优势 | 描述 |
|---------|-------------|
| **速度** | 最快的工作流，零开销 |
| **简单性** | 无需规划或文档 |
| **直接性** | 输入 -> 执行 -> 完成 |
| **无产物** | 清洁的工作区，无文件混乱 |
| **低认知负担** | 简单、直接的执行 |

### 缺点

| 限制 | 描述 |
|------------|-------------|
| **无追踪** | 没有更改记录 |
| **无规划** | 无法处理复杂任务 |
| **无审查** | 没有内置代码审查 |
| **范围有限** | 仅限单模块 |
| **无回滚** | 更改立即生效 |

## 与其他层级的比较

| 方面 | Level 1 | Level 2 | Level 3 |
|--------|---------|---------|---------|
| **规划** | 无 | 内存中 | 持久化 |
| **产物** | 无 | 内存文件 | 会话文件 |
| **复杂度** | 低 | 低-中 | 中-高 |
| **可追踪性** | 无 | 部分 | 完整 |
| **审查** | 无 | 可选 | 内置 |

## 何时升级到更高级别

**需要 Level 2+ 的信号**:

- 任务涉及多个模块
- 需要跟踪进度
- 需求需要澄清
- 需要代码审查
- 需要测试生成

**升级路径**:

<Mermaid
  chart={`
    graph LR
        L1["Level 1:<br/>lite-lite-lite"] --> L2["Level 2:<br/>lite-plan"]
        L2 --> L3["Level 3:<br/>plan"]
        L3 --> L4["Level 4:<br/>brainstorm"]
        L4 --> L5["Level 5:<br/>ccw-coordinator"]

        classDef node fill:#e3f2fd,stroke:#1976d2

        class L1,L2,L3,L4,L5 node
  `}
/>

## 相关工作流

- [层级 2: 快速工作流](./level-2-rapid.mdx) - 带规划的下一层级
- [层级 3: 标准工作流](./level-3-standard.mdx) - 完整会话管理
- [FAQ](./faq.mdx) - 常见问题
