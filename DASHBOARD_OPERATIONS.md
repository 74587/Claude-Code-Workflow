# CCW Dashboard 操作指南

**版本**: 6.2.0
**更新日期**: 2025-12-20

本文档提供 CCW Dashboard 各功能视图的详细操作步骤说明。

---

## 目录

1. [首页概览操作](#1-首页概览操作)
2. [会话详情操作](#2-会话详情操作)
3. [CLI 管理器操作](#3-cli-管理器操作)
4. [核心记忆操作](#4-核心记忆操作)
5. [MCP 服务器管理操作](#5-mcp-服务器管理操作)
6. [Hook 管理器操作](#6-hook-管理器操作)
7. [技能管理器操作](#7-技能管理器操作)
8. [CodexLens 索引管理操作](#8-codexlens-索引管理操作)

---

## 1. 首页概览操作

### 1.1 进入方式
- 启动 Dashboard 后自动显示
- 点击侧边栏 **"概览"** 导航项

### 1.2 项目切换
1. 点击顶部操作栏的 **项目路径选择器**
2. 从下拉列表选择最近项目，或点击 **"浏览..."** 选择新项目
3. 系统自动加载新项目数据

### 1.3 数据刷新
- 点击顶部操作栏的 **刷新按钮** (🔄)
- 或等待 WebSocket 自动推送更新

### 1.4 活跃会话轮播
- 自动轮播显示当前活跃的工作流会话
- 点击会话卡片进入会话详情

### 1.5 统计卡片
显示以下统计信息：
- 会话总数
- 活跃会话数
- 已归档会话数
- 任务完成率

---

## 2. 会话详情操作

### 2.1 进入方式
- 从首页点击会话卡片
- 从侧边栏 **"会话"** > **"全部/活跃/已归档"** 列表点击

### 2.2 会话列表操作

| 操作 | 步骤 |
|------|------|
| 筛选会话 | 点击 **"全部/活跃/已归档"** 标签切换 |
| 搜索会话 | 在搜索框输入会话 ID 或描述 |
| 查看详情 | 点击会话行展开详情 |

### 2.3 会话详情面板

#### 基本信息区
- 会话 ID、创建时间、状态
- 会话描述和目标

#### 任务列表区
| 操作 | 说明 |
|------|------|
| 查看任务 | 任务以列表形式显示，包含状态图标 |
| 展开任务 | 点击任务行查看详细信息 |
| 任务状态 | 🔵 待处理 / 🟡 进行中 / 🟢 完成 / 🔴 失败 |

#### 操作按钮
| 按钮 | 功能 |
|------|------|
| **归档** | 将会话标记为已归档 |
| **删除** | 删除会话（需确认） |
| **导出** | 导出会话数据为 JSON |

### 2.4 任务抽屉

点击任务后打开的详情抽屉：

| 区域 | 内容 |
|------|------|
| 头部 | 任务标题、状态徽章 |
| 上下文 | 相关文件列表、依赖项 |
| 执行日志 | 实时执行输出（WebSocket 推送） |
| 操作区 | 重试、跳过、标记完成 |

---

## 3. CLI 管理器操作

### 3.1 进入方式
侧边栏 **"项目"** > **"状态"**

### 3.2 CLI 工具状态面板

#### 工具状态卡片
每个工具（Gemini/Qwen/Codex）显示：
- 安装状态：✅ 已安装 / ❌ 未安装
- 版本信息
- 默认模型配置

#### 设置默认工具
1. 点击工具卡片上的 **"设为默认"** 按钮
2. 确认选择

#### 模型配置
1. 点击 **"配置"** 按钮
2. 在弹出的模态框中设置：
   - 主模型 (Primary Model)
   - 备用模型 (Fallback Model)
3. 点击 **"保存"**

### 3.3 安装/卸载向导

#### 安装工具
1. 点击未安装工具的 **"安装"** 按钮
2. 按向导步骤操作：
   - 确认系统要求
   - 输入 API 密钥（如需要）
   - 选择安装选项
3. 等待安装完成

#### 卸载工具
1. 点击已安装工具的 **"卸载"** 按钮
2. 确认卸载操作
3. 等待卸载完成

### 3.4 执行历史

侧边栏 **"项目"** > **"历史"**

| 操作 | 说明 |
|------|------|
| 查看记录 | 列表显示执行时间、工具、提示词摘要 |
| 展开详情 | 点击记录查看完整输入/输出 |
| 恢复会话 | 点击 **"继续"** 按钮使用 `--resume` 恢复 |
| 复制命令 | 点击 **"复制"** 图标复制执行命令 |

---

## 4. 核心记忆操作

### 4.1 进入方式
侧边栏 **"记忆"** > **"核心记忆"**

### 4.2 记忆列表视图

#### 查看记忆
- 记忆条目以卡片形式显示
- 包含：标题、摘要、标签、创建时间

#### 创建记忆
1. 点击 **"+ 新建记忆"** 按钮
2. 填写表单：
   | 字段 | 说明 |
   |------|------|
   | 标题 | 记忆标题（必填） |
   | 内容 | 记忆正文（Markdown 支持） |
   | 标签 | 分类标签（逗号分隔） |
   | 优先级 | 高/中/低 |
3. 点击 **"保存"**

#### 编辑记忆
1. 点击记忆卡片的 **"编辑"** 图标
2. 修改内容
3. 点击 **"保存"**

#### 归档/删除
- **归档**: 点击 **"归档"** 图标，记忆移至归档列表
- **删除**: 点击 **"删除"** 图标，确认后永久删除

### 4.3 集群视图

切换到 **"集群"** 标签页

#### 查看集群
- 自动聚类的会话分组显示
- 每个集群显示：名称、成员数、创建时间

#### 自动聚类
1. 点击 **"自动聚类"** 按钮
2. 设置参数：
   | 参数 | 说明 |
   |------|------|
   | 相似度阈值 | 0.0-1.0，默认 0.7 |
   | 最小成员数 | 集群最小会话数 |
3. 点击 **"执行"**
4. 等待聚类完成

#### 集群管理
| 操作 | 步骤 |
|------|------|
| 查看成员 | 点击集群卡片展开成员列表 |
| 重命名 | 点击集群名称编辑 |
| 合并集群 | 选中多个集群，点击 **"合并"** |
| 删除集群 | 点击 **"删除"** 图标（成员不会删除） |

### 4.4 嵌入管理

#### 查看嵌入状态
- 显示已生成嵌入的记忆数量
- 显示待生成嵌入的记忆数量

#### 生成嵌入
1. 点击 **"生成嵌入"** 按钮
2. 选择范围：
   - 全部未嵌入
   - 选中的记忆
3. 等待生成完成（进度条显示）

---

## 5. MCP 服务器管理操作

### 5.1 进入方式
侧边栏 **"配置"** > **"MCP 服务器"**

### 5.2 服务器列表

#### 查看服务器
- 列表显示已配置的服务器
- 每行显示：名称、类型、状态、配置来源

#### 状态指示
- 🟢 运行中
- 🔴 已停止
- 🟡 启动中

### 5.3 创建服务器

#### 手动创建
1. 点击 **"+ 添加服务器"** 按钮
2. 填写表单：
   | 字段 | 说明 |
   |------|------|
   | 名称 | 服务器标识名（必填） |
   | 命令 | 启动命令（如 `node`） |
   | 参数 | 命令参数数组 |
   | 环境变量 | KEY=VALUE 格式 |
   | 配置范围 | 项目级 / 全局 |
3. 点击 **"保存"**

#### 从模板安装
1. 点击 **"模板"** 标签
2. 浏览可用模板
3. 点击模板的 **"安装"** 按钮
4. 确认或修改配置
5. 点击 **"确认安装"**

### 5.4 编辑/删除

| 操作 | 步骤 |
|------|------|
| 编辑 | 点击 **"编辑"** 图标 → 修改配置 → 保存 |
| 删除 | 点击 **"删除"** 图标 → 确认删除 |
| 启用/禁用 | 切换状态开关 |

### 5.5 配置文件位置

| 范围 | 文件路径 |
|------|----------|
| 项目级 | `.mcp.json` |
| 全局 | `~/.claude/settings.json` |

---

## 6. Hook 管理器操作

### 6.1 进入方式
侧边栏 **"配置"** > **"Hooks"**

### 6.2 Hook 列表

#### 按类型查看
- **PreToolUse**: 工具使用前触发
- **PostToolUse**: 工具使用后触发
- **Notification**: 通知类钩子

#### 列表信息
每个 Hook 显示：名称、类型、匹配工具、命令摘要

### 6.3 创建 Hook

#### 向导模式
1. 点击 **"+ 添加 Hook"** 按钮
2. 选择 Hook 类型
3. 填写配置：
   | 字段 | 说明 |
   |------|------|
   | 名称 | Hook 标识名 |
   | 匹配器 | 匹配的工具名称（支持通配符 `*`） |
   | 命令 | 执行的 Shell 命令 |
   | 超时 | 命令超时时间（毫秒） |
   | 范围 | 项目级 / 全局 |
4. 点击 **"保存"**

#### 从模板创建
1. 点击 **"模板"** 标签
2. 选择预设模板（如：格式化检查、安全扫描）
3. 点击 **"使用模板"**
4. 根据需要修改配置
5. 点击 **"保存"**

### 6.4 编辑/删除

| 操作 | 步骤 |
|------|------|
| 编辑 | 点击 Hook 行 → 修改配置 → 保存 |
| 删除 | 点击 **"删除"** 图标 → 确认 |
| 启用/禁用 | 切换状态开关 |

### 6.5 配置文件位置

| 范围 | 文件路径 |
|------|----------|
| 项目级 | `.claude/settings.local.json` |
| 全局 | `~/.claude/settings.json` |

---

## 7. 技能管理器操作

### 7.1 进入方式
侧边栏 **"记忆"** > **"技能"**

### 7.2 技能列表

#### 分类视图
- **项目技能**: `./.claude/skills/` 目录下的技能
- **用户技能**: `~/.claude/skills/` 目录下的技能

#### 技能卡片信息
- 技能名称
- 描述
- 版本号
- 工具数量
- 支持文件数量

### 7.3 查看技能详情

1. 点击技能卡片
2. 详情面板显示：
   - 完整描述
   - 包含的工具列表
   - 支持文件列表
   - 依赖信息

### 7.4 创建技能

#### 从文件夹导入
1. 点击 **"+ 导入技能"** 按钮
2. 选择包含技能文件的目录
3. 确认技能信息
4. 点击 **"导入"**

#### 通过 CLI 生成
1. 点击 **"+ 生成技能"** 按钮
2. 输入技能描述
3. 选择生成选项：
   - 目标目录（项目/用户）
   - 包含的能力
4. 点击 **"生成"**
5. 等待 AI 生成完成

### 7.5 删除技能

1. 点击技能卡片的 **"删除"** 图标
2. 确认删除操作
3. 技能文件将被移除

---

## 8. CodexLens 索引管理操作

### 8.1 进入方式
侧边栏 **"项目"** > **"状态"** → CodexLens 面板

### 8.2 索引状态

#### 状态指示
| 状态 | 说明 |
|------|------|
| ✅ 已索引 | 项目已建立索引 |
| ⚠️ 过期 | 索引需要更新 |
| ❌ 未索引 | 项目未建立索引 |

#### 索引统计
- 总索引大小
- 项目数量
- 向量索引数
- FTS 索引数

### 8.3 初始化索引

1. 点击 **"初始化索引"** 按钮
2. 选择索引模式：
   | 模式 | 说明 |
   |------|------|
   | FTS | 全文搜索，速度快 |
   | 向量 | 语义搜索，需要嵌入模型 |
   | 混合 | FTS + 向量，功能最全 |
3. 选择要索引的语言/文件类型
4. 点击 **"开始索引"**
5. 查看进度条和实时日志

### 8.4 清理索引

#### 清理当前项目
1. 点击 **"清理项目索引"** 按钮
2. 确认操作
3. 当前项目索引被删除

#### 清理所有索引
1. 点击 **"清理所有索引"** 按钮
2. 输入确认文字
3. 所有索引被删除

### 8.5 语义依赖管理

#### 检查状态
- 显示 Python 环境状态
- 显示已安装的依赖包

#### 安装依赖
1. 点击 **"安装语义依赖"** 按钮
2. 等待安装完成
3. 查看安装日志

### 8.6 嵌入模型管理

#### 查看模型
- 列出可用的嵌入模型
- 显示已下载/未下载状态

#### 下载模型
1. 点击未下载模型的 **"下载"** 按钮
2. 等待下载完成
3. 模型可用于向量索引

#### 删除模型
1. 点击已下载模型的 **"删除"** 按钮
2. 确认删除
3. 模型文件被移除

### 8.7 测试搜索

1. 在测试区输入搜索查询
2. 选择搜索模式：
   - `auto`: 自动选择
   - `hybrid`: 混合搜索
   - `exact`: 精确匹配
   - `ripgrep`: 文本搜索
3. 点击 **"搜索"**
4. 查看搜索结果

---

## 通用操作说明

### 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Escape` | 关闭模态框/侧边栏 |
| `Ctrl+R` / `Cmd+R` | 刷新数据 |

### 主题与语言切换

| 操作 | 位置 |
|------|------|
| 切换主题 | 顶部操作栏太阳/月亮图标 |
| 切换语言 | 顶部操作栏 EN/ZH 按钮 |

### 错误处理

| 错误类型 | 处理方式 |
|----------|----------|
| 网络错误 | 检查连接，点击刷新重试 |
| 权限错误 | 检查文件/目录权限 |
| 验证错误 | 检查表单必填字段 |
| 超时错误 | 增加超时设置或分批操作 |

### WebSocket 连接

- **自动重连**: 断开后自动尝试重连
- **心跳保活**: 定期发送心跳保持连接
- **状态指示**: 页脚显示连接状态

---

## 相关文档

- [DASHBOARD_GUIDE.md](DASHBOARD_GUIDE.md) - Dashboard 用户指南
- [COMMAND_REFERENCE.md](COMMAND_REFERENCE.md) - 命令参考
- [GETTING_STARTED_CN.md](GETTING_STARTED_CN.md) - 快速入门

---

**CCW Dashboard** - Claude Code Workflow 可视化控制中心操作手册
